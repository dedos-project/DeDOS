<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>My Project: src/runtime/msu_message.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_bf9f26469d00835ba20ff8d80ee5a804.html">runtime</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">msu_message.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="msu__message_8h_source.html">msu_message.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="logging_8h_source.html">logging.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="communication_8h_source.html">communication.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="local__msu_8h_source.html">local_msu.h</a>&quot;</code><br/>
<code>#include &quot;uthash.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="runtime__dfg_8h_source.html">runtime_dfg.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="profiler_8h_source.html">profiler.h</a>&quot;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
</div>
<p><a href="msu__message_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a10929400b4e0bf5ad4ab662c5f971c36"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msu__message_8c.html#a10929400b4e0bf5ad4ab662c5f971c36">init_msu_msg_hdr</a> (struct <a class="el" href="structmsu__msg__hdr.html">msu_msg_hdr</a> *hdr, struct <a class="el" href="structmsu__msg__key.html">msu_msg_key</a> *key)</td></tr>
<tr class="memdesc:a10929400b4e0bf5ad4ab662c5f971c36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes and resets a message header, storing a copy of the provided key.  <a href="#a10929400b4e0bf5ad4ab662c5f971c36">More...</a><br/></td></tr>
<tr class="separator:a10929400b4e0bf5ad4ab662c5f971c36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd0dc4f832701e66e79f0a3ad14d45d0"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msu__message_8c.html#afd0dc4f832701e66e79f0a3ad14d45d0">msu_msg_sender_type</a> (struct <a class="el" href="structmsg__provinance.html">msg_provinance</a> *prov)</td></tr>
<tr class="separator:afd0dc4f832701e66e79f0a3ad14d45d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96ff75992a3c7cdf45d5488cf2a1a85e"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structmsu__provinance__item.html">msu_provinance_item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msu__message_8c.html#a96ff75992a3c7cdf45d5488cf2a1a85e">get_provinance_item</a> (struct <a class="el" href="structmsg__provinance.html">msg_provinance</a> *p, struct <a class="el" href="structmsu__type.html">msu_type</a> *type)</td></tr>
<tr class="separator:a96ff75992a3c7cdf45d5488cf2a1a85e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f50ab06135ddf6ae2fce9e3a94406e5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msu__message_8c.html#a5f50ab06135ddf6ae2fce9e3a94406e5">set_msg_key</a> (int32_t id, struct <a class="el" href="structmsu__msg__key.html">msu_msg_key</a> *key)</td></tr>
<tr class="memdesc:a5f50ab06135ddf6ae2fce9e3a94406e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the key's ID and composite-ID to be equal to the provided id.  <a href="#a5f50ab06135ddf6ae2fce9e3a94406e5">More...</a><br/></td></tr>
<tr class="separator:a5f50ab06135ddf6ae2fce9e3a94406e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc87213f55c3ced021c2ed2a3918d81f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msu__message_8c.html#acc87213f55c3ced021c2ed2a3918d81f">seed_msg_key</a> (void *seed, size_t seed_size, struct <a class="el" href="structmsu__msg__key.html">msu_msg_key</a> *key)</td></tr>
<tr class="memdesc:acc87213f55c3ced021c2ed2a3918d81f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the key's composite-ID to the provided value, and sets the key's ID to a hash of the value.  <a href="#acc87213f55c3ced021c2ed2a3918d81f">More...</a><br/></td></tr>
<tr class="separator:acc87213f55c3ced021c2ed2a3918d81f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f005b2ccc0cd6ed497f5f36a036c452"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msu__message_8c.html#a5f005b2ccc0cd6ed497f5f36a036c452">add_provinance</a> (struct <a class="el" href="structmsg__provinance.html">msg_provinance</a> *prov, struct <a class="el" href="structlocal__msu.html">local_msu</a> *sender)</td></tr>
<tr class="memdesc:a5f005b2ccc0cd6ed497f5f36a036c452"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a new item to the path of MSUs taken within the mesasge provinance in the header.  <a href="#a5f005b2ccc0cd6ed497f5f36a036c452">More...</a><br/></td></tr>
<tr class="separator:a5f005b2ccc0cd6ed497f5f36a036c452"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9c35484ebaf8fdf1a40ceee05968493"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msu__message_8c.html#ae9c35484ebaf8fdf1a40ceee05968493">enqueue_msu_msg</a> (struct <a class="el" href="structmsg__queue.html">msg_queue</a> *q, struct <a class="el" href="structmsu__msg.html">msu_msg</a> *data)</td></tr>
<tr class="memdesc:ae9c35484ebaf8fdf1a40ceee05968493"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enqueues a message for immediate delivery.  <a href="#ae9c35484ebaf8fdf1a40ceee05968493">More...</a><br/></td></tr>
<tr class="separator:ae9c35484ebaf8fdf1a40ceee05968493"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a466eacd65a2a0c2d99dab6cfe085b0c8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msu__message_8c.html#a466eacd65a2a0c2d99dab6cfe085b0c8">schedule_msu_msg</a> (struct <a class="el" href="structmsg__queue.html">msg_queue</a> *q, struct <a class="el" href="structmsu__msg.html">msu_msg</a> *data, struct timespec *interval)</td></tr>
<tr class="memdesc:a466eacd65a2a0c2d99dab6cfe085b0c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Schedules an MSU message to be delivered after <code>interval</code> time has passed.  <a href="#a466eacd65a2a0c2d99dab6cfe085b0c8">More...</a><br/></td></tr>
<tr class="separator:a466eacd65a2a0c2d99dab6cfe085b0c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad158d41d4fd0a76a552bd60f5d4c4281"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structmsu__msg.html">msu_msg</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msu__message_8c.html#ad158d41d4fd0a76a552bd60f5d4c4281">dequeue_msu_msg</a> (struct <a class="el" href="structmsg__queue.html">msg_queue</a> *q)</td></tr>
<tr class="memdesc:ad158d41d4fd0a76a552bd60f5d4c4281"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dequeues an MSU message from the provided message queue.  <a href="#ad158d41d4fd0a76a552bd60f5d4c4281">More...</a><br/></td></tr>
<tr class="separator:ad158d41d4fd0a76a552bd60f5d4c4281"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f7508bca5c3842eb1eda563f3feb727"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msu__message_8c.html#a4f7508bca5c3842eb1eda563f3feb727">read_msu_msg_hdr</a> (int fd, struct <a class="el" href="structmsu__msg__hdr.html">msu_msg_hdr</a> *hdr)</td></tr>
<tr class="separator:a4f7508bca5c3842eb1eda563f3feb727"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69ee355c36ed847b24e637786f3aa7e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msu__message_8c.html#a69ee355c36ed847b24e637786f3aa7e3">destroy_msu_msg_and_contents</a> (struct <a class="el" href="structmsu__msg.html">msu_msg</a> *msg)</td></tr>
<tr class="memdesc:a69ee355c36ed847b24e637786f3aa7e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees both the message and message data.  <a href="#a69ee355c36ed847b24e637786f3aa7e3">More...</a><br/></td></tr>
<tr class="separator:a69ee355c36ed847b24e637786f3aa7e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84d5590dca5c0f21420d17b7c15e377b"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structmsu__msg.html">msu_msg</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msu__message_8c.html#a84d5590dca5c0f21420d17b7c15e377b">create_msu_msg</a> (struct <a class="el" href="structmsu__msg__hdr.html">msu_msg_hdr</a> *hdr, size_t data_size, void *data)</td></tr>
<tr class="memdesc:a84d5590dca5c0f21420d17b7c15e377b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates an MSU message with the appropriate header, data size, and data.  <a href="#a84d5590dca5c0f21420d17b7c15e377b">More...</a><br/></td></tr>
<tr class="separator:a84d5590dca5c0f21420d17b7c15e377b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe34d5a1aace571d1916f6546dd4c981"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structmsu__msg.html">msu_msg</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msu__message_8c.html#abe34d5a1aace571d1916f6546dd4c981">read_msu_msg</a> (struct <a class="el" href="structlocal__msu.html">local_msu</a> *msu, int fd, size_t size)</td></tr>
<tr class="memdesc:abe34d5a1aace571d1916f6546dd4c981"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads an MSU message of the given size from the provided file descriptor.  <a href="#abe34d5a1aace571d1916f6546dd4c981">More...</a><br/></td></tr>
<tr class="separator:abe34d5a1aace571d1916f6546dd4c981"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe18223e884ab9c4be0b112ed0b772df"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="msu__message_8c.html#afe18223e884ab9c4be0b112ed0b772df">serialize_msu_msg</a> (struct <a class="el" href="structmsu__msg.html">msu_msg</a> *msg, struct <a class="el" href="structmsu__type.html">msu_type</a> *dst_type, size_t *size_out)</td></tr>
<tr class="memdesc:afe18223e884ab9c4be0b112ed0b772df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts an MSU message into a serializes stream of bytes.  <a href="#afe18223e884ab9c4be0b112ed0b772df">More...</a><br/></td></tr>
<tr class="separator:afe18223e884ab9c4be0b112ed0b772df"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a5f005b2ccc0cd6ed497f5f36a036c452"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int add_provinance </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmsg__provinance.html">msg_provinance</a> *&#160;</td>
          <td class="paramname"><em>prov</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structlocal__msu.html">local_msu</a> *&#160;</td>
          <td class="paramname"><em>sender</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a new item to the path of MSUs taken within the mesasge provinance in the header. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">prov</td><td>Existing provinance structure </td></tr>
    <tr><td class="paramname">sender</td><td>The sending MSU, to be added to the provinance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on error </dd></dl>

<p>Definition at line <a class="el" href="msu__message_8c_source.html#l00074">74</a> of file <a class="el" href="msu__message_8c_source.html">msu_message.c</a>.</p>

</div>
</div>
<a class="anchor" id="a84d5590dca5c0f21420d17b7c15e377b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structmsu__msg.html">msu_msg</a>* create_msu_msg </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmsu__msg__hdr.html">msu_msg_hdr</a> *&#160;</td>
          <td class="paramname"><em>hdr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>data_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates an MSU message with the appropriate header, data size, and data. </p>
<dl class="section return"><dt>Returns</dt><dd>The newly-allocated MSU message </dd></dl>

<p>Definition at line <a class="el" href="msu__message_8c_source.html#l00161">161</a> of file <a class="el" href="msu__message_8c_source.html">msu_message.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad158d41d4fd0a76a552bd60f5d4c4281"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structmsu__msg.html">msu_msg</a>* dequeue_msu_msg </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmsg__queue.html">msg_queue</a> *&#160;</td>
          <td class="paramname"><em>q</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dequeues an MSU message from the provided message queue. </p>
<dl class="section return"><dt>Returns</dt><dd>the dequeued message on success, NULL if the message is not available, or is not an MSU_MSG </dd></dl>

<p>Definition at line <a class="el" href="msu__message_8c_source.html#l00124">124</a> of file <a class="el" href="msu__message_8c_source.html">msu_message.c</a>.</p>

</div>
</div>
<a class="anchor" id="a69ee355c36ed847b24e637786f3aa7e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void destroy_msu_msg_and_contents </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmsu__msg.html">msu_msg</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees both the message and message data. </p>

<p>Definition at line <a class="el" href="msu__message_8c_source.html#l00156">156</a> of file <a class="el" href="msu__message_8c_source.html">msu_message.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae9c35484ebaf8fdf1a40ceee05968493"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int enqueue_msu_msg </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmsg__queue.html">msg_queue</a> *&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmsu__msg.html">msu_msg</a> *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enqueues a message for immediate delivery. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">q</td><td>The queue into which the message is to be placed </td></tr>
    <tr><td class="paramname">data</td><td>The message to be delivered </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on error </dd></dl>

<p>Definition at line <a class="el" href="msu__message_8c_source.html#l00101">101</a> of file <a class="el" href="msu__message_8c_source.html">msu_message.c</a>.</p>

</div>
</div>
<a class="anchor" id="a96ff75992a3c7cdf45d5488cf2a1a85e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structmsu__provinance__item.html">msu_provinance_item</a>* get_provinance_item </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmsg__provinance.html">msg_provinance</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmsu__type.html">msu_type</a> *&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The provinance item with the specified type or NULL if none exists </dd></dl>

<p>Definition at line <a class="el" href="msu__message_8c_source.html#l00045">45</a> of file <a class="el" href="msu__message_8c_source.html">msu_message.c</a>.</p>

</div>
</div>
<a class="anchor" id="a10929400b4e0bf5ad4ab662c5f971c36"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int init_msu_msg_hdr </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmsu__msg__hdr.html">msu_msg_hdr</a> *&#160;</td>
          <td class="paramname"><em>hdr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmsu__msg__key.html">msu_msg_key</a> *&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes and resets a message header, storing a copy of the provided key. </p>
<p>Note: key can be a local variable. Its value is copied. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hdr</td><td>The header to reset </td></tr>
    <tr><td class="paramname">key</td><td>The key to set a copy of in the header </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on error </dd></dl>

<p>Definition at line <a class="el" href="msu__message_8c_source.html#l00035">35</a> of file <a class="el" href="msu__message_8c_source.html">msu_message.c</a>.</p>

</div>
</div>
<a class="anchor" id="afd0dc4f832701e66e79f0a3ad14d45d0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int msu_msg_sender_type </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmsg__provinance.html">msg_provinance</a> *&#160;</td>
          <td class="paramname"><em>prov</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the type of the MSU which last sent this message header </dd></dl>

<p>Definition at line <a class="el" href="msu__message_8c_source.html#l00041">41</a> of file <a class="el" href="msu__message_8c_source.html">msu_message.c</a>.</p>

</div>
</div>
<a class="anchor" id="abe34d5a1aace571d1916f6546dd4c981"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structmsu__msg.html">msu_msg</a>* read_msu_msg </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structlocal__msu.html">local_msu</a> *&#160;</td>
          <td class="paramname"><em>msu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads an MSU message of the given size from the provided file descriptor. </p>
<p>Utilizes the <a class="el" href="structmsu__type.html#ad8ac9a913eb05ae392f3eed04f323a5d" title="Defines deserialization protocl for data received by this MSU type If NULL, assumes no pointers in th...">msu_type::deserialize</a> function of the provided MSU if applicable, otherwise just reads the provided payload. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msu</td><td>The msu from which to take the deserialization function </td></tr>
    <tr><td class="paramname">fd</td><td>The file descriptor from which to read the message </td></tr>
    <tr><td class="paramname">size</td><td>The size of the message available in the file descriptor </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="msu__message_8c_source.html#l00171">171</a> of file <a class="el" href="msu__message_8c_source.html">msu_message.c</a>.</p>

</div>
</div>
<a class="anchor" id="a4f7508bca5c3842eb1eda563f3feb727"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int read_msu_msg_hdr </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmsu__msg__hdr.html">msu_msg_hdr</a> *&#160;</td>
          <td class="paramname"><em>hdr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="msu__message_8c_source.html#l00147">147</a> of file <a class="el" href="msu__message_8c_source.html">msu_message.c</a>.</p>

</div>
</div>
<a class="anchor" id="a466eacd65a2a0c2d99dab6cfe085b0c8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int schedule_msu_msg </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmsg__queue.html">msg_queue</a> *&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmsu__msg.html">msu_msg</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timespec *&#160;</td>
          <td class="paramname"><em>interval</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Schedules an MSU message to be delivered after <code>interval</code> time has passed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">q</td><td>The queue into which the message is to be placed </td></tr>
    <tr><td class="paramname">data</td><td>The message to be delivered </td></tr>
    <tr><td class="paramname">interval</td><td>The amount of time which must elapse before the message is to be delivered </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on error </dd></dl>

<p>Definition at line <a class="el" href="msu__message_8c_source.html#l00106">106</a> of file <a class="el" href="msu__message_8c_source.html">msu_message.c</a>.</p>

</div>
</div>
<a class="anchor" id="acc87213f55c3ced021c2ed2a3918d81f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int seed_msg_key </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>seed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>seed_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmsu__msg__key.html">msu_msg_key</a> *&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the key's composite-ID to the provided value, and sets the key's ID to a hash of the value. </p>

<p>Definition at line <a class="el" href="msu__message_8c_source.html#l00062">62</a> of file <a class="el" href="msu__message_8c_source.html">msu_message.c</a>.</p>

</div>
</div>
<a class="anchor" id="afe18223e884ab9c4be0b112ed0b772df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* serialize_msu_msg </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmsu__msg.html">msu_msg</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmsu__type.html">msu_type</a> *&#160;</td>
          <td class="paramname"><em>dst_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>size_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts an MSU message into a serializes stream of bytes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The message to be serialized </td></tr>
    <tr><td class="paramname">dst_type</td><td>The MSU type to which the message is to be delivered. Serialization utilizes <a class="el" href="structmsu__type.html#a47b8e5d5beb28f531665d60c6156ff39" title="Defines serialization protocol for data sent to this MSU type If NULL, assumes no pointers in the msu...">msu_type::serialize</a> if non-NULL. </td></tr>
    <tr><td class="paramname">size_out</td><td>An output argument, set to the size of the newly serialized message </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A newly-allocated (must be freed externally) serialized copy of <code>msg</code> </dd></dl>

<p>Definition at line <a class="el" href="msu__message_8c_source.html#l00216">216</a> of file <a class="el" href="msu__message_8c_source.html">msu_message.c</a>.</p>

</div>
</div>
<a class="anchor" id="a5f50ab06135ddf6ae2fce9e3a94406e5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int set_msg_key </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structmsu__msg__key.html">msu_msg_key</a> *&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the key's ID and composite-ID to be equal to the provided id. </p>

<p>Definition at line <a class="el" href="msu__message_8c_source.html#l00054">54</a> of file <a class="el" href="msu__message_8c_source.html">msu_message.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
